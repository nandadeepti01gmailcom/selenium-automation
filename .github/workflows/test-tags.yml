name: Run Tests by Tags

# Manual workflow to run specific test suites based on tags
# Allows flexible test execution with custom tag combinations

on:
  workflow_dispatch:
    inputs:
      test_suite:
        description: 'Select Test Suite'
        required: true
        type: choice
        options:
          - 'smoke'
          - 'regression'
          - 'sanity'
          - 'all'
          - 'custom'
        default: 'smoke'
      
      include_tags:
        description: 'Tags to include (for custom suite, e.g., "smoke & login" or "p0 | p1")'
        required: false
        type: string
        default: ''
      
      exclude_tags:
        description: 'Tags to exclude (e.g., "wip,slow")'
        required: false
        type: string
        default: 'wip'
      
      environment:
        description: 'Test Environment'
        required: true
        type: choice
        options:
          - 'dev'
          - 'staging'
          - 'prod'
        default: 'dev'
      
      browser:
        description: 'Browser for testing'
        required: false
        type: choice
        options:
          - 'chrome'
          - 'firefox'
          - 'edge'
        default: 'chrome'
      
      send_slack_notification:
        description: 'Send results to Slack'
        required: false
        type: boolean
        default: true
  
  push:   # THIS IS THE CORRECT LOCATION - at the same level as workflow_dispatch
    branches:
      - feature/selenium

jobs:
  test-execution:
    # ... rest of your workflow ...